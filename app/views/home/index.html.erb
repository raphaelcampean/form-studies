<div class="d-flex justify-content-center mt-4">
	<div>
		<h3>Usuários</h3>
		<ul class="list-group">
			<% @users.each do |user| %>
				<li class="list-group-item d-flex justify-content-between align-items-center">
					<%= user.name %>
					<%= link_to "Ver", user_path(user), class: "btn btn-primary btn-sm" %>
				</li>
			<% end %>
		</ul>
	</div>
</div>

<div class="d-flex justify-content-center align-items-center min-vh-100">
	<div class="card shadow" style="min-width: 350px;">
		<div class="card-body text-center">
			<%= form_with model: @user, url: create_path, local: true, data: { controller: "form" } do |f| %>
				<div data-form-target="step" class="step">
					<h2>Nome</h2>
					<%= f.text_field :name, placeholder: "Nome", required: true %>
					<button type="button" data-action="form#nextStep">Próximo</button>
				</div>

				<div data-form-target="step" class="step">
					<h2>Nome de usuário</h2>
					<%= f.text_field :username, placeholder: "Nome de usuário", required: true %>
					<button type="button" data-action="form#previousStep">Voltar</button>
					<button type="button" data-action="form#nextStep">Próximo</button>
				</div>

				<div data-form-target="step" class="step">
					<h2>Email</h2>
					<%= f.email_field :email, placeholder: "Email", required: true %>
					<button type="button" data-action="form#previousStep">Voltar</button>
					<button type="button" data-action="form#nextStep">Próximo</button>
				</div>

				<div data-form-target="step" class="step">
					<h2>Biografia</h2>
					<%= f.text_area :bio, placeholder: "Bio", required: true %>
					<button type="button" data-action="form#previousStep">Voltar</button>
					<button type="button" data-action="form#nextStep">Próximo</button>
				</div>

				<div data-form-target="step" class="step">
					<h2>Template</h2>
					<ul class="list-group mb-3">
						<% User.templates.keys.each do |k| %>
							<li class="list-group-item d-flex align-items-center">
								<label class="d-flex flex-column align-items-center" style="cursor: pointer;">
									<img src="<%= asset_path("template#{k}.png") %>" alt="<%= k.humanize %>" style="width: 450px; height: 450px;" class="me-3" />
									<span><%= k.humanize %></span>
									<%= f.radio_button :template, k, required: true, class: "me-2" %>
								</label>
							</li>
						<% end %>
					</ul>
					<button type="button" data-action="form#previousStep">Voltar</button>
					<button type="button" data-action="form#nextStep">Próximo</button>
				</div>

				<div data-form-target="step" class="step">
					<h2>Cidade</h2>
					<%= f.text_field :city, placeholder: "Cidade", required: true %>
					<button type="button" data-action="form#previousStep">Voltar</button>
					<button type="submit" data-action="form#submitForm">Enviar</button>
				</div>
			<% end %>
		</div>
	</div>
</div>